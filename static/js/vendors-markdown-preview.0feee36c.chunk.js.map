{"version":3,"sources":["../../src/index.tsx","../../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../node_modules/@uiw/react-markdown-preview/node_modules/@babel/runtime/helpers/extends.js"],"names":["octiconLink","type","tagName","properties","class","viewBox","version","width","height","ariaHidden","children","fillRule","d","rehypeRewriteHandle","node","parent","test","child","prefixCls","warpperElement","mdp","React","useImperativeHandle","ref","cls","className","onScroll","onMouseOver","style","rehypePlugins","ignoreMissing","rewrite","other","remarkPlugins","source","module","exports","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","__esModule","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","this"],"mappings":"mWAcMA,EAAuB,CAC3BC,KAD2B,UAE3BC,QAF2B,MAG3BC,WAAY,CACVC,MADU,uBAEVC,QAFU,YAGVC,QAHU,MAIVC,MAJU,KAKVC,OALU,KAMVC,WAAY,QAEdC,SAAU,CACR,CACET,KADF,UAEEC,QAFF,OAGEQ,SAHF,GAIEP,WAAY,CACVQ,SADU,UAEVC,EAAG,sWAMLC,EAAsB,SAACC,EAAD,KAC1B,GAAIA,gCAAqCC,QAA0B,iBAAiBC,KAAKF,EAAzF,SAAwG,CACtG,IAAMG,EAAQH,YAAkBA,WAAhC,GACIG,GAASA,EAATA,YAAJ,SAAiCA,0BAC/BA,kBAAqBb,MAAO,UAAaa,EAAzCA,YACAA,WAAiB,CAAjBA,MAmBS,oBAA2D,cACxE,QACEC,iBADF,MAAM,oCAAN,EAAM,EAAN,EAAM,YAAN,EAAM,SAAN,EAAM,QAAN,EAAM,WAAN,EAAM,YAAN,IAOEC,sBAPF,MAOmB,GAPnB,aAUMC,EAAMC,IAAZ,YACAC,8BAAoBC,GAAK,4BAAmBH,UAAQ,CAACA,EAArDE,IACA,IAAME,GAASN,GAAN,SAAyBO,GAAlC,IACA,OACE,yBAAKF,IAAL,EAAeG,SAAf,EAAmCC,YAAaA,GAAhD,GAAiFF,UAAjF,EAAiGG,MAAjG,WACE,4BAEEC,cAAa,CACX,CAAC,EAAD,EAAc,CAAEC,eAAe,IADlB,YAKb,CAAC,EAAD,EAAgB,CAAEC,QAASlB,IAC3B,CAAC,EAAD,EAAc,CAAEV,WAAY,UANjB,mBAOP6B,iBATR,KAWEC,cAAa,sBAAOD,iBAAL,IAAF,CAXf,MAYEtB,SAAUwB,GAAU,a,kBC3E5BC,EAAOC,QAfP,SAAuCF,EAAQG,GAC7C,GAAc,MAAVH,EAAgB,MAAO,GAC3B,IAEII,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKT,GAG7B,IAAKK,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOJ,EAAOI,IAGvB,OAAOE,GAITL,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQU,YAAa,G,kBChBxE,SAASC,IAgBP,OAfAZ,EAAOC,QAAUW,EAAWL,OAAOM,QAAU,SAAUR,GACrD,IAAK,IAAID,EAAI,EAAGA,EAAIU,UAAUL,OAAQL,IAAK,CACzC,IAAIL,EAASe,UAAUV,GAEvB,IAAK,IAAID,KAAOJ,EACVQ,OAAOQ,UAAUC,eAAeC,KAAKlB,EAAQI,KAC/CE,EAAOF,GAAOJ,EAAOI,IAK3B,OAAOE,GAGTL,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQU,YAAa,EACjEC,EAASM,MAAMC,KAAML,WAG9Bd,EAAOC,QAAUW,EACjBZ,EAAOC,QAAiB,QAAID,EAAOC,QAASD,EAAOC,QAAQU,YAAa,G","file":"static/js/vendors-markdown-preview.0feee36c.chunk.js","sourcesContent":["import React, { useImperativeHandle } from 'react';\nimport ReactMarkdown, { Options } from 'react-markdown';\nimport { Root, Element, ElementContent } from 'hast';\nimport gfm from 'remark-gfm';\nimport slug from 'rehype-slug';\nimport headings from 'rehype-autolink-headings';\nimport rehypeRaw from 'rehype-raw';\nimport rehypeAttrs from 'rehype-attr';\n// @ts-ignore\nimport rehypePrism from '@mapbox/rehype-prism';\nimport rehypeRewrite from 'rehype-rewrite';\nimport './styles/markdown.less';\nimport './styles/markdowncolor.less';\n\nconst octiconLink: Element = {\n  type: 'element',\n  tagName: 'svg',\n  properties: {\n    class: 'octicon octicon-link',\n    viewBox: '0 0 16 16',\n    version: '1.1',\n    width: '16',\n    height: '16',\n    ariaHidden: 'true',\n  },\n  children: [\n    {\n      type: 'element',\n      tagName: 'path',\n      children: [],\n      properties: {\n        fillRule: 'evenodd',\n        d: 'M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z',\n      },\n    },\n  ],\n};\n\nconst rehypeRewriteHandle = (node: ElementContent, index: number | null, parent: Root | Element | null) => {\n  if (node.type === 'element' && parent && parent.type === 'root' && /h(1|2|3|4|5|6)/.test(node.tagName)) {\n    const child = node.children && (node.children[0] as Element);\n    if (child && child.properties && child.properties.ariaHidden === 'true') {\n      child.properties = { class: 'anchor', ...child.properties };\n      child.children = [octiconLink];\n    }\n  }\n};\n\nexport type MarkdownPreviewProps = {\n  prefixCls?: string;\n  className?: string;\n  source?: string;\n  style?: React.CSSProperties;\n  warpperElement?: React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement>;\n  onScroll?: (e: React.UIEvent<HTMLDivElement>) => void;\n  onMouseOver?: (e: React.MouseEvent<HTMLDivElement>) => void;\n} & Omit<Options, 'children'>;\n\nexport type MarkdownPreviewRef = {\n  mdp: React.RefObject<HTMLDivElement>;\n} & MarkdownPreviewProps;\n\nexport default React.forwardRef<MarkdownPreviewRef, MarkdownPreviewProps>((props, ref) => {\n  const {\n    prefixCls = 'wmde-markdown wmde-markdown-color',\n    className,\n    source,\n    style,\n    onScroll,\n    onMouseOver,\n    warpperElement = {},\n    ...other\n  } = props;\n  const mdp = React.createRef<HTMLDivElement>();\n  useImperativeHandle(ref, () => ({ ...props, mdp }), [mdp, props]);\n  const cls = `${prefixCls || ''} ${className || ''}`;\n  return (\n    <div ref={mdp} onScroll={onScroll} onMouseOver={onMouseOver} {...warpperElement} className={cls} style={style}>\n      <ReactMarkdown\n        {...other}\n        rehypePlugins={[\n          [rehypePrism, { ignoreMissing: true }],\n          rehypeRaw,\n          slug,\n          headings,\n          [rehypeRewrite, { rewrite: rehypeRewriteHandle }],\n          [rehypeAttrs, { properties: 'attr' }],\n          ...(other.rehypePlugins || []),\n        ]}\n        remarkPlugins={[...(other.remarkPlugins || []), gfm]}\n        children={source || ''}\n      />\n    </div>\n  );\n});\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;"],"sourceRoot":""}