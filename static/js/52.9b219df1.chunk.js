(this["webpackJsonp@uiw/react-baidu-map"]=this["webpackJsonp@uiw/react-baidu-map"]||[]).push([[52],{1060:function(n,e,t){"use strict";t.r(e),e.default="CustomOverlay \u81ea\u5b9a\u4e49\u8986\u76d6\u7269\n===\n\n\u7528\u4e8e\u6e32\u67d3\u81ea\u5b9a\u4e49\u7684 DOM \u5bf9\u8c61\u3002\n\n```jsx\nimport { CustomOverlay, useCustomOverlay } from '@uiw/react-baidu-map';\n```\n\n### \u57fa\u672c\u7528\u6cd5\n\n\u5b98\u65b9\u539f\u751f JS \u5b9e\u4f8b\uff1ahttps://lbsyun.baidu.com/jsdemo.htm#c1_11\n\n\x3c!--rehype:bgWhite=true&codeSandbox=true&codePen=true--\x3e\n```jsx\nimport ReactDOM from 'react-dom';\nimport React, { useState } from 'react';\nimport { APILoader, Map, Marker, CustomOverlay } from '@uiw/react-baidu-map';\n\nconst Demo = () => {\n  const [count, setCount] = useState(0);\n  function markerRef(props) {\n    if (props && props.customOverlay) {\n      console.log('CustomOverlay::', props.customOverlay, props.map, props.BMap);\n    }\n  }\n  function handleClick(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    setCount(count + 1);\n  }\n  return (\n    <div style={{ width: '100%' }}>\n      <APILoader akay=\"GTrnXa5hwXGwgQnTBG28SHBubErMKm3f\">\n        <Map widget={['NavigationControl']} zoom={13} style={{ height: 350 }}>\n          <Marker position={{ lng: 121.466008, lat: 31.220001 }} />\n          <CustomOverlay\n            ref={markerRef}\n            paneName=\"floatPane\"\n            position={{ lng: 121.466008, lat: 31.220001 }} \n            style={{\n              whiteSpace: 'nowrap',\n              // transform: `translateX(-50%)`,\n            }}\n          >\n            <div\n              style={{ backgroundColor: '#fff', padding: 5, whiteSpace: 'nowrap', transform: `translateX(-50%)` }}\n            >\n              <button onClick={handleClick}>\u70b9\u51fb\u9012\u589e{count}</button>\n            </div>\n          </CustomOverlay>\n          <CustomOverlay position={{ lng: 121.500934, lat: 31.229882 }} zIndex={99}>\n            <div style={{ backgroundColor: '#fff', padding: 5, borderRadius: 10, whiteSpace: 'nowrap', border: '1px solid #333', userSelect: 'initial' }}>\n              \u81ea\u5b9a\u4e49\u7684\u8986\u76d6\u7269\n            </div>\n          </CustomOverlay>\n          <CustomOverlay position={{ lng: 121.500934, lat: 31.23088 }}>\n            <div style={{ backgroundColor: '#fff', padding: 5, borderRadius: 10, whiteSpace: 'nowrap', border: '1px solid #333' }}>\n              \u81ea\u5b9a\u4e49\u7684\u8986\u76d6\u7269\uff0c\u7b2c\u4e8c\u4e2a\n            </div>\n          </CustomOverlay>\n        </Map>\n      </APILoader>\n    </div>\n  );\n};\nReactDOM.render(<Demo />, _mount_);\n```\n\n### \u4f7f\u7528 hooks\n\n`portal`, `setPortal`, `customOverlay`, `setCustomOverlay`\n\n\x3c!--rehype:bgWhite=true&codeSandbox=true&codePen=true--\x3e\n```jsx\nimport { useRef, useEffect, useState } from 'react';\nimport { Map, APILoader, useMap, useMarker, useCustomOverlay } from '@uiw/react-baidu-map';\n\nconst Example = () => {\n  const divElm = useRef();\n  const [count, setCount] = useState(0);\n  const { setContainer, map } = useMap({\n    zoom: 13,\n    enableScrollWheelZoom: true,\n    widget: ['GeolocationControl', 'NavigationControl']\n  });\n  useMarker({ map, position: { lng: 121.466008, lat: 31.220001 } });\n\n  function handleClick(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    setCount(count + 1);\n  }\n  const { portal } = useCustomOverlay({\n    map,\n    position: { lng: 121.466008, lat: 31.220001 },\n    children: (\n      <div style={{ backgroundColor: '#fff', padding: 5, whiteSpace: 'nowrap', transform: `translateX(-50%)` }}>\n        <button onClick={handleClick}>\u81ea\u5b9a\u4e49\u7684\u8986\u76d6\u7269{count}</button>\n      </div>\n    ),\n  });\n  useEffect(() => {\n    if (divElm.current && !map) {\n      setContainer(divElm.current);\n    }\n  });\n\n  return (\n    <>\n      <div ref={divElm} style={{ height: 350 }} />\n      {portal}\n    </>\n  )\n}\n\nconst Demo = () => (\n  <div style={{ width: '100%' }}>\n    <APILoader akay=\"GTrnXa5hwXGwgQnTBG28SHBubErMKm3f\">\n      <Example />\n    </APILoader>\n  </div>\n);\nReactDOM.render(<Demo />, _mount_);\n```\n\n### Props\n\n| \u53c2\u6570 | \u8bf4\u660e | \u7c7b\u578b | \u9ed8\u8ba4\u503c |\n| ----- | ----- | ----- | ----- |\n| children | \u81ea\u5b9a\u4e49 DOM \u5143\u7d20\u3002 | ReactNode | - |\n| position | **`\u5fc5\u586b`** \u8bbe\u7f6e\u6807\u6ce8\u7684\u5730\u7406\u5750\u6807\u3002[\u767e\u5ea6\u62fe\u53d6\u5750\u6807\u7cfb\u7edf](http://api.map.baidu.com/lbsapi/getpoint/index.html) | `Point` | - |\n| visiable | \u8986\u76d6\u7269\u662f\u5426\u53ef\u89c1\u3002 | `boolean` | - |\n| zIndex | \u5bf9\u5e94 css z-index \u5c5e\u6027\uff0c\u5f53\u6dfb\u52a0\u4e86\u591a\u4e2a CustomOverlay \u65f6\uff0c\u53ef\u4ee5\u7528\u4e8e\u8bbe\u7f6e\u5c42\u53e0\u987a\u5e8f | `number` | - |\n| paneName | \u81ea\u5b9a\u4e49\u8986\u76d6\u7269\u63d2\u5165\u7684\u5bb9\u5668\uff0c[\u6587\u6863\u63cf\u8ff0](https://github.com/uiwjs/react-baidu-map/blob/df20f20772a613770e7b2e8de319ff082fab06aa/src/types/overlay.d.ts#L1341-L1370) | `floatPane`, `markerMouseTarget`, `floatShadow`, `labelPane`, `markerPane`, `markerShadow`, `mapPane` | `markerPane` |\n"}}]);
//# sourceMappingURL=52.9b219df1.chunk.js.map