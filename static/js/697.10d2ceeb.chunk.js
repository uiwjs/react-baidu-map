"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[697],{3697:(a,e,t)=>{t.r(e),t.d(e,{default:()=>n});const n={components:{},data:{},source:'<div markdown="1">\n  <sup>\u4f7f\u7528 <a href="https://wangchujiang.com/#/app" target="_blank">\u6211\u7684\u5e94\u7528</a> \u4e5f\u662f\u4e00\u79cd <a href="https://wangchujiang.com/#/sponsor" target="_blank">\u652f\u6301</a> \u6211\u7684\u65b9\u5f0f\uff1a</sup>\n  <br>\n    <a target="_blank" href="https://apps.apple.com/app/Vidwall/6747587746" title="Vidwall for macOS"><img align="center" alt="Vidwall" height="52" width="52" src="https://github.com/user-attachments/assets/7b5df70a-ed91-4d4b-85be-f00e60a09ce9"></a>\n    <a target="_blank" href="https://wangchujiang.com/mousio-hint/" title="Mousio Hint for macOS"><img align="center" alt="Mousio Hint" height="52" width="52" src="https://github.com/user-attachments/assets/3c0af128-0cef-44e5-a8db-4741dc5a6690"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6746747327" title="Mousio for macOS"><img align="center" alt="Mousio" height="52" width="52" src="https://github.com/user-attachments/assets/9edf61ff-5a6c-4676-9cc2-8fd3c1ad0dfb"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6745227444" title="Musicer for macOS"><img align="center" alt="Musicer" height="52" width="52" src="https://github.com/user-attachments/assets/b7abfba8-88ff-4c86-a125-43073d5aef22"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6743841447" title="Audioer for macOS"><img align="center" alt="Audioer" height="52" width="52" src="https://github.com/user-attachments/assets/7a836865-8c90-4119-87bc-19e06a76c957"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6744690194" title="FileSentinel for macOS"><img align="center" alt="FileSentinel" height="52" width="52" src="https://github.com/user-attachments/assets/28bce2cc-290e-45bf-9068-585ff6ecafe9"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6743495172" title="FocusCursor for macOS"><img align="center" alt="FocusCursor" height="52" width="52" src="https://github.com/user-attachments/assets/d543668a-737b-4853-a6bb-eaa269e69836"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6742680573" title="Videoer for macOS"><img align="center" alt="Videoer" height="52" width="52" src="https://github.com/user-attachments/assets/10ffb0f1-0625-40d6-93f1-2c2496592595"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6740425504" title="KeyClicker for macOS"><img align="center" alt="KeyClicker" height="52" width="52" src="https://github.com/user-attachments/assets/5a19fcb9-cb81-4855-b4ea-31c604d9612a"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6739052447" title="DayBar for macOS"><img align="center" alt="DayBar" height="52" width="52" src="https://github.com/user-attachments/assets/771b608d-594c-492d-8532-d9231e383f5b"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6739444407" title="Iconed for macOS"><img align="center" alt="Iconed" height="52" width="52" src="https://github.com/user-attachments/assets/8a35dc7b-4faf-4e2a-9311-f66d6844a896"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6737160756" title="RightMenu Master for macOS"><img align="center" alt="RightMenu Master" height="52" width="52" src="https://github.com/user-attachments/assets/39a76541-71bf-4de7-a01c-c62f0557dff5"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6723903021" title="Paste Quick for macOS"><img align="center" alt="Quick RSS" height="52" width="52" src="https://github.com/user-attachments/assets/bdaad5b7-9810-44ce-8f17-8410864465d2"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6670696072" title="Quick RSS for macOS/iOS"><img align="center" alt="Quick RSS" height="52" width="52" src="https://github.com/user-attachments/assets/374106b5-a448-4d1d-9ccb-b04b6bc681ed"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6670167443" title="Web Serve for macOS"><img align="center" alt="Web Serve" height="52" width="52" src="https://github.com/user-attachments/assets/e1d9f76f-0f3d-4ba5-8a15-253ee173bb1c"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6503953628" title="Copybook Generator for macOS/iOS"><img align="center" alt="Copybook Generator" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/b90e42ff-158b-4534-82ca-5898fd0e8d73"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6471227008" title="DevTutor for macOS/iOS"><img align="center" alt="DevTutor for SwiftUI" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/f15c154d-0192-48eb-8e0e-9e245ffd974a"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6479819388" title="RegexMate for macOS/iOS"><img align="center" alt="RegexMate" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/aabe5aa9-9a96-4390-8bed-c3e4023d0dea"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6479194014" title="Time Passage for macOS/iOS"><img align="center" alt="Time Passage" height="52" width="52" src="https://github.com/jaywcjlove/time-passage/assets/1680273/6f30e429-e6f3-4dbe-9921-a5effe2a05e9"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6478772538" title="IconizeFolder for macOS"><img align="center" alt="Iconize Folder" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/fa9d8b9c-1e51-4ded-877c-fa5b21c47220"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6478511402" title="Textsound Saver for macOS/iOS"><img align="center" alt="Textsound Saver" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/0595e842-980b-4574-8891-a8ba853a08be"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6476924627" title="Create Custom Symbols for macOS"><img align="center" alt="Create Custom Symbols" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/8cd022ce-a3f1-4e89-b7c6-6fbd0d4db77c"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6476452351" title="DevHub for macOS"><img align="center" alt="DevHub" height="52" width="52" src="https://github.com/user-attachments/assets/4a44a4fd-67ce-430b-af0a-72f18feaa47d"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6476400184" title="Resume Revise for macOS"><img align="center" alt="Resume Revise" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/c9954a20-1905-48de-bdf8-d71837974aa2"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6472593276" title="Palette Genius for macOS"><img align="center" alt="Palette Genius" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/27340413-d355-45b2-8f6f-6ac37682d957"></a>\n    <a target="_blank" href="https://apps.apple.com/app/6470879005" title="Symbol Scribe for macOS"><img align="center" alt="Symbol Scribe" height="52" width="52" src="https://github.com/jaywcjlove/jaywcjlove/assets/1680273/c7249f05-fa70-4def-a1e9-571d5f171fc9"></a>\n  <br/>\n</div>\n<hr>\n\nCanvasLayer \u81ea\u5b9a\u4e49Canvas\n===\n\n[![Buy me a coffee](https://img.shields.io/badge/Buy%20me%20a%20coffee-048754?logo=buymeacoffee)](https://jaywcjlove.github.io/#/sponsor)\n[![npm version](https://img.shields.io/npm/v/@uiw/react-baidu-map-canvas-layer.svg)](https://www.npmjs.com/package/@uiw/react-baidu-map-canvas-layer)\n[![Downloads](https://img.shields.io/npm/dm/@uiw/react-baidu-map-canvas-layer.svg?style=flat)](https://www.npmjs.com/package/@uiw/react-baidu-map-canvas-layer)\n\n\u26a0\ufe0f `BMap.CanvasLayer` API \u4e0d\u77e5\u9053\u4e3a\u4f55\u6ca1\u6709\u4e86\n\n\u7528\u4e8e\u5728\u5730\u56fe\u4e0a\u7ed8\u5236\u81ea\u5b9a\u4e49\u7684canvas2D\u6216WebGL\u56fe\u5f62\uff0c[\u767e\u5ea6 CanvasLayer \u6587\u6863](http://lbsyun.baidu.com/cms/jsapi/reference/jsapi_reference_3_0.html#a3b28)\u3002\n\n```jsx\nimport { CanvasLayer, useCanvasLayer } from \'@uiw/react-baidu-map\';\n// \u6216\u8005\u5355\u72ec\u5b89\u88c5\u4f7f\u7528\nimport CanvasLayer, { useCanvasLayer } from \'@uiw/react-baidu-map-canvas-layer\';\n```\n\n### \u57fa\u672c\u7528\u6cd5\n\n```jsx\nimport React, { useState } from \'react\';\nimport { Map, CanvasLayer, APILoader } from \'@uiw/react-baidu-map\';\n\nconst Example = () => {\n  const [visiable, setVisiable] = useState(true);\n  function canvasLayerRef(props) {\n    if (props && props.canvasLayer) {\n      console.log(\'canvasLayer:\', props.canvasLayer, props.map, props.BMap);\n    }\n  }\n  return (\n    <>\n      <button onClick={() => setVisiable(!visiable)}>{visiable ? \'\u9690\u85cf\' : \'\u663e\u793a\'}</button>\n      <Map zoom={12} widget={[\'NavigationControl\']} style={{ height: 350 }}>\n        <CanvasLayer\n          ref={canvasLayerRef}\n          visiable={visiable}\n          update={({ canvas, map }) => {\n            const ctx = canvas.getContext(\'2d\');\n            if (!ctx) {\n              return;\n            }\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n            const temp = {};\n            ctx.fillStyle = \'rgba(50, 50, 255, 0.7)\';\n            ctx.beginPath();\n            const data = [\n              new BMap.Point(121.434244,31.247173),\n              new BMap.Point(121.450916,31.200729),\n              new BMap.Point(121.519906,31.230376),\n            ];\n\n            for (let i = 0, len = data.length; i < len; i++) {\n              // \u7ed8\u5236\u65f6\u9700\u8981\u5bf9\u7ecf\u7eac\u5ea6\u8fdb\u884c\u8f6c\u6362\n              const pixel = map.pointToPixel(data[i]);\n              ctx.fillRect(pixel.x, pixel.y, 30, 30);\n            }\n          }}\n        />\n      </Map>\n    </>\n  );\n}\n\nconst Demo = () => (\n  <div style={{ width: \'100%\' }}>\n    <APILoader akay="eYpCTECSntZmw0WyoQ7zFpCRR9cpgHFG" version="2.0">\n      <Example />\n    </APILoader>\n  </div>\n);\nexport default Demo;\n```\n\n\n### \u4f7f\u7528 hooks\n\n`canvasLayer`, `setCanvasLayer`\n\n```jsx\nimport React from \'react\';\nimport { useRef, useEffect, useState } from \'react\';\nimport { Map, APILoader, Provider, useMap, useCanvasLayer } from \'@uiw/react-baidu-map\';\n\nconst Example = () => {\n  const divElm = useRef(null);\n  const [visiable, setVisiable] = useState(true);\n  const { setContainer, map } = useMap({\n    enableScrollWheelZoom: true,\n    zoom: 12, widget: [\'GeolocationControl\', \'NavigationControl\']\n  });\n  useCanvasLayer({ map, visiable,\n    update: ({ canvas, map }) => {\n      const ctx = canvas.getContext(\'2d\');\n      if (!ctx) {\n        return;\n      }\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      const temp = {};\n      ctx.fillStyle = \'rgba(50, 50, 255, 0.7)\';\n      ctx.beginPath();\n      const data = [\n        new BMap.Point(121.434244,31.247173),\n        new BMap.Point(121.450916,31.200729),\n        new BMap.Point(121.519906,31.230376),\n      ];\n\n      for (let i = 0, len = data.length; i < len; i++) {\n        // \u7ed8\u5236\u65f6\u9700\u8981\u5bf9\u7ecf\u7eac\u5ea6\u8fdb\u884c\u8f6c\u6362\n        const pixel = map.pointToPixel(data[i]);\n        ctx.fillRect(pixel.x, pixel.y, 30, 30);\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (divElm.current) {\n      setContainer(divElm.current);\n    }\n  });\n\n  return (\n    <>\n      <button onClick={() => setVisiable(!visiable)}>{visiable ? \'\u9690\u85cf\' : \'\u663e\u793a\'}</button>\n      <div ref={divElm} style={{ height: 350 }} />\n    </>\n  )\n}\n\nconst Demo = () => (\n  <div style={{ width: \'100%\' }}>\n    <APILoader akay="eYpCTECSntZmw0WyoQ7zFpCRR9cpgHFG" version="2.0">\n      <Provider>\n        <Example />\n      </Provider>\n    </APILoader>\n  </div>\n);\nexport default Demo;\n```\n\n### Props\n\n| \u53c2\u6570 | \u8bf4\u660e | \u7c7b\u578b | \u9ed8\u8ba4\u503c |\n| ----- | ----- | ----- | ----- |\n| update | \u5177\u4f53\u7684\u7ed8\u5236\u903b\u8f91\u3002\u901a\u8fc7\u8fd4\u56de\u53c2\u6570\u83b7\u53d6\u5f53\u524d\u7684 canvas \u5bf9\u8c61 | `Point` | - |\n| zIndex | \u5bf9\u5e94canvas\u7684css z-index\u5c5e\u6027\uff0c\u5f53\u6dfb\u52a0\u4e86\u591a\u4e2aCanvasLayer\u65f6\uff0c\u53ef\u4ee5\u7528\u4e8e\u8bbe\u7f6e\u5c42\u53e0\u987a\u5e8f\u3002 | `number` | - |\n| paneName | CanvasLayer\u4f4d\u4e8e\u7684\u8986\u76d6\u7269\u5c42\u7ea7\uff0c\u4f8b\uff1a`paneName: floatPane`\u3002JSAPI\u628a\u5730\u56fe\u8986\u76d6\u7269\u5206\u4e3a\u4e868\u4e2a\u5c42\u7ea7\uff0c\u9876\u5c42\u4e3a`floatPane`\uff0c \u4f4e\u5c42\u4e3a `vertexPane`\u3002\u53ef\u4ee5\u901a\u8fc7 `Map` \u5b9e\u4f8b\u7684 `getPanes()` \u65b9\u6cd5\uff0c\u83b7\u53d6\u52308\u4e2a\u5c42\u7ea7\u7684\u540d\u79f0\u3002 | `floatPane`, `floatShadow`, `labelPane`, `mapPane`, `markerMouseTarget`, `markerPane`, `markerShadow`, `vertexPane` | - |\n| visiable | \u8986\u76d6\u7269\u662f\u5426\u53ef\u89c1\u3002 | `boolean` | - |\n',headings:[],headingsList:[]}}}]);
//# sourceMappingURL=697.10d2ceeb.chunk.js.map